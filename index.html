<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SosMed Mahasiswa Untar</title>
    <script>
      (function () {
        const theme = localStorage.getItem("themePreference");
        if (theme === "dark") {
          document.documentElement.classList.add("dark-mode");
        } else {
          document.documentElement.classList.add("light-mode");
        }
      })();
    </script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- HEADER / NAVBAR -->
    <header>
      <input type="checkbox" id="toggler" />
      <label for="toggler" class="fas fa-bars"></label>

      <a href="#" class="logo">SosMed Mahasiswa Untar<span>.</span></a>

      <nav class="navbar">
        <a href="notification.html" class="notification-bell" id="notificationBell">
          <i class="fas fa-bell"></i>
          <span class="notification-badge" id="notificationBadge"></span>
        </a>

        <a href="profile.html" id="btn-profile"><i class="fas fa-user-circle"></i></a>
        <a href="#" id="btn-logout"><i class="fas fa-sign-out-alt"></i></a>
        <a href="#home" id="btn-home"><i class="fas fa-home"></i></a>
        <a href="chat.html" id="btn-chat"><i class="fas fa-comments"></i></a>
        <a href="stats.html" class="btn-stats"
          ><i class="fas fa-chart-bar"></i
        ></a>

        <!-- FORM SEARCH -->
        <form class="search-bar" id="search-form">
          <input
            type="text"
            id="search-input"
            placeholder="Cari teman atau postingan..."
          />
          <button type="submit"><i class="fas fa-search"></i></button>
        </form>
      </nav>
    </header>

    <!-- HOME SECTION -->
    <section class="home" id="home">
      <div class="content">
        <h3>Sosial Media Mahasiswa</h3>
        <span>
          Platform sosial media khusus mahasiswa. Di sini kamu bisa terhubung
          dengan teman kampus, berbagi pengalaman, berdiskusi seputar
          perkuliahan, hingga mengikuti informasi terbaru tentang kegiatan
          akademik maupun organisasi. Melalui fitur profil, postingan, dan
          komunitas, setiap mahasiswa dapat mengekspresikan diri serta
          memperluas jaringan pertemanan secara positif dan bermanfaat.
        </span>
      </div>
    </section>

    <!-- USERS SECTION -->
    <section class="users-section">
      <h3>Akun Terdaftar</h3>
      <div id="usersList" class="users-list">
        </div>
    </section>

    <!-- SEARCH RESULT SECTION -->
    <section
      class="search-result-section"
      id="search-result-container"
      style="display: none"
    >
      <h3>Hasil Pencarian</h3>
      <div class="search-results" id="search-results"></div>
    </section>

    <!-- MAIN CONTENT -->
    <main id="mainContent">
      <section class="profile-page">
        <div class="profile-header">
          <img
            id="fotoProfilHeader"
            src="images/profile.png"
            alt="Foto Profil"
          />
          <div class="profile-info">
            <h3 id="profileName"></h3>
            <div class="profile-stats">
              <a href="#" id="followersBtn"><strong>0</strong> Followers</a>
              <a href="#" id="followingBtn"><strong>0</strong> Following</a>
            </div>
          </div>
        </div>

        <!-- TEMAN MAHASISWA -->
        <section class="user-list" id="userList">
          <h3>Teman Mahasiswa Lain</h3>
          <div class="user-cards" id="userCards"></div>
        </section>

        <!-- BUAT POSTINGAN -->
        <section class="create-post">
          <img id="fotoProfil" src="images/profile.png" alt="Foto Profil" />
          <div class="create-post-content">
            <textarea
              id="postInput"
              placeholder="Apa yang kamu pikirkan?"
            ></textarea>
            <div class="post-actions">
              <input type="file" id="imageInput" accept="image/*" />
              <button id="postBtn">Posting</button>
            </div>
          </div>
        </section>

        <!-- FEED -->
        <section class="feed" id="feed"></section>
      </section>
    </main>

    <!-- MODAL FOLLOWER/FOLLOWING -->
    <div id="user-list-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h3 id="modal-title"></h3>
        <div id="modal-user-list"></div>
      </div>
    </div>

    <script src="script.js"></script>
    <script src="profile.js"></script>
    <script>
      document
        .getElementById("search-form")
        .addEventListener("submit", function (e) {
          e.preventDefault();
          window.location.href = "search.html";
        });

      window.addEventListener("load", () => {
        const savedFoto = localStorage.getItem("fotoProfil");
        if (savedFoto) {
          const fotoHeader = document.getElementById("fotoProfilHeader");
          const fotoPost = document.getElementById("fotoProfil");

          if (fotoHeader) fotoHeader.src = savedFoto;
          if (fotoPost) fotoPost.src = savedFoto;
        }
      });
    </script>
  </body>
</html>